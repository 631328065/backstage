{"version":3,"sources":["webpack:///./src/util/request.js","webpack:///./src/views/product/productCat/index.vue?c04e","webpack:///src/views/product/productCat/index.vue","webpack:///./src/views/product/productCat/index.vue?dfdd","webpack:///./src/views/product/productCat/index.vue","webpack:///./src/views/product/productCat/index.vue?9a5f","webpack:///./src/api/productCat.js"],"names":["ConfigBaseURL","loadingInstance","Service","axios","create","timeout","baseURL","method","headers","Cookies","get","interceptors","request","use","config","Loading","service","lock","text","response","close","data","error","console","log","msg","undefined","Message","message","type","duration","Promise","reject","render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","attrs","on","openProductCatAdd","staticStyle","tableData","scopedSlots","_u","key","fn","model","value","row","callback","$$v","$set","expression","isDisabled","$event","seeSub","pageNum","total","handleSizeChange","handleCurrentChange","staticRenderFns","pCatListId","pageSize","mounted","getPCatList","methods","val","id","$router","push","component","productCatCreate","params","url","getProductCat","parentId"],"mappings":"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","file":"js/chunk-247365cf.e373364e.js","sourcesContent":["import axios from 'axios';\r\nimport {\r\n    Message,\r\n    Loading\r\n} from 'element-ui';\r\nconst ConfigBaseURL = 'http://8.129.43.113:8080/'; //默认路径，这里也可以使用env来判断环境\r\nlet loadingInstance = null; //这里是loading\r\nimport Cookies from 'js-cookie';\r\n\r\n//使用create方法创建axios实例\r\nconst Service = axios.create({\r\n    timeout: 7000, // 请求超时时间\r\n    baseURL: ConfigBaseURL, //请求的默认前缀\r\n    method: 'post', //默认请求方式是post\r\n    headers: {\r\n        'Content-Type': 'application/json;charset=UTF-8', //请求参数是json格式\r\n        'Authorization': Cookies.get(\"loginToken\") //令牌\r\n    }\r\n});\r\n\r\n// 添加请求拦截器\r\nService.interceptors.request.use(config => {\r\n    loadingInstance = Loading.service({\r\n            lock: true,\r\n            text: '拼命加载中...'\r\n        })\r\n        //放行\r\n    return config\r\n});\r\n\r\n// 添加响应拦截器\r\nService.interceptors.response.use(response => {\r\n    //关闭加载窗\r\n    loadingInstance.close()\r\n        // console.log(response)\r\n    return response.data\r\n}, error => {\r\n    console.log('TCL: error', error)\r\n    const msg = error.Message !== undefined ? error.Message : ''\r\n    Message({\r\n        message: '网络错误' + msg,\r\n        type: 'error',\r\n        duration: 3 * 1000\r\n    })\r\n    loadingInstance.close()\r\n    return Promise.reject(error)\r\n});\r\n\r\nexport default Service;","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"productCat-box\"},[_c('div',{staticClass:\"dataList\"},[_c('i',{staticClass:\"el-icon-tickets\"}),_c('span',[_vm._v(\"数据列表\")]),_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":_vm.openProductCatAdd}},[_vm._v(\"添加\")])],1),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData,\"border\":\"\"}},[_c('el-table-column',{attrs:{\"prop\":\"id\",\"align\":\"center\",\"label\":\"编号\",\"width\":\"100\"}}),_c('el-table-column',{attrs:{\"prop\":\"name\",\"align\":\"center\",\"label\":\"分类名称\",\"width\":\"262\"}}),_c('el-table-column',{attrs:{\"prop\":\"level\",\"align\":\"center\",\"label\":\"级别\",\"width\":\"100\"}}),_c('el-table-column',{attrs:{\"prop\":\"productCount\",\"align\":\"center\",\"label\":\"商品数量\",\"width\":\"100\"}}),_c('el-table-column',{attrs:{\"prop\":\"productUnit\",\"align\":\"center\",\"label\":\"商品单位\",\"width\":\"100\"}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"导航栏\",\"width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function(data){return [_c('el-switch',{attrs:{\"active-value\":1,\"inactive-value\":0},model:{value:(data.row.navStatus),callback:function ($$v) {_vm.$set(data.row, \"navStatus\", $$v)},expression:\"data.row.navStatus\"}})]}}])}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"是否显示\",\"width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function(data){return [_c('el-switch',{attrs:{\"active-value\":1,\"inactive-value\":0},model:{value:(data.row.showStatus),callback:function ($$v) {_vm.$set(data.row, \"showStatus\", $$v)},expression:\"data.row.showStatus\"}})]}}])}),_c('el-table-column',{attrs:{\"prop\":\"sort\",\"align\":\"center\",\"label\":\"排序\",\"width\":\"100\"}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"设置\",\"width\":\"200\"},scopedSlots:_vm._u([{key:\"default\",fn:function(data){return [_c('el-button',{attrs:{\"size\":\"mini\",\"disabled\":_vm.isDisabled},on:{\"click\":function($event){return _vm.seeSub(data.row)}}},[_vm._v(\"查看下级\")]),_c('el-button',{attrs:{\"size\":\"mini\"}},[_vm._v(\"转移商品\")])]}}])}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"160\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(data){return [_c('el-button',{attrs:{\"size\":\"mini\"}},[_vm._v(\"编辑\")]),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"danger\"}},[_vm._v(\"删除\")])]}}])})],1),_c('el-pagination',{attrs:{\"background\":\"\",\"current-page\":_vm.pageNum,\"page-sizes\":[5, 10, 15],\"page-size\":10,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"productCat-box\">\r\n    <div class=\"dataList\">\r\n      <i class=\"el-icon-tickets\"></i>\r\n      <span>数据列表</span>\r\n      <el-button size=\"mini\" @click=\"openProductCatAdd\">添加</el-button>\r\n    </div>\r\n    <el-table :data=\"tableData\" border style=\"width: 100%\">\r\n      <el-table-column prop=\"id\" align=\"center\" label=\"编号\" width=\"100\"> </el-table-column>\r\n      <el-table-column prop=\"name\" align=\"center\" label=\"分类名称\" width=\"262\"> </el-table-column>\r\n      <el-table-column prop=\"level\" align=\"center\" label=\"级别\" width=\"100\"></el-table-column>\r\n      <el-table-column prop=\"productCount\" align=\"center\" label=\"商品数量\" width=\"100\"> </el-table-column>\r\n      <el-table-column prop=\"productUnit\" align=\"center\" label=\"商品单位\" width=\"100\"> </el-table-column>\r\n      <el-table-column align=\"center\" label=\"导航栏\" width=\"100\">\r\n        <template v-slot=\"data\">\r\n          <el-switch v-model=\"data.row.navStatus\" :active-value=\"1\" :inactive-value=\"0\"></el-switch>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column align=\"center\" label=\"是否显示\" width=\"100\">\r\n        <template v-slot=\"data\">\r\n          <el-switch v-model=\"data.row.showStatus\" :active-value=\"1\" :inactive-value=\"0\"></el-switch>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column prop=\"sort\" align=\"center\" label=\"排序\" width=\"100\"> </el-table-column>\r\n      <el-table-column align=\"center\" label=\"设置\" width=\"200\">\r\n        <template v-slot=\"data\">\r\n          <el-button size=\"mini\" @click=\"seeSub(data.row)\" :disabled=\"isDisabled\">查看下级</el-button>\r\n          <el-button size=\"mini\">转移商品</el-button>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"操作\" width=\"160\" align=\"center\">\r\n        <template v-slot=\"data\">\r\n          <el-button size=\"mini\">编辑</el-button>\r\n          <el-button size=\"mini\" type=\"danger\">删除</el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <el-pagination background @size-change=\"handleSizeChange\" @current-change=\"handleCurrentChange\" :current-page=\"pageNum\" :page-sizes=\"[5, 10, 15]\" :page-size=\"10\" layout=\"total, sizes, prev, pager, next, jumper\" :total=\"total\"> </el-pagination>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { pCatListId } from \"@/api/productCat.js\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      tableData: [],\r\n      pCatListId: 0,\r\n      total: 0,\r\n      pageNum: 0,\r\n      pageSize: 0,\r\n      isDisabled: false,\r\n    };\r\n  },\r\n  mounted() {\r\n    this.getPCatList();\r\n  },\r\n  methods: {\r\n    //渲染列表\r\n    getPCatList() {\r\n      pCatListId(this.pCatListId).then((res) => {\r\n        this.total = res.data.total;\r\n        this.tableData = res.data.list;\r\n      });\r\n    },\r\n\r\n    handleSizeChange(val) {\r\n      this.pageSize = val;\r\n      console.log(val);\r\n      this.getPCatList();\r\n    },\r\n    handleCurrentChange(val) {\r\n      this.pageNum = val;\r\n      console.log(val);\r\n      this.getPCatList();\r\n    },\r\n\r\n    //查看下级\r\n    seeSub(row) {\r\n      this.pCatListId = row.id;\r\n      this.isDisabled = !this.isDisabled;\r\n      this.getPCatList();\r\n    },\r\n\r\n    //跳转添加商品分类\r\n    openProductCatAdd() {\r\n      this.$router.push(\"/product/cat/add\");\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.productCat-box {\r\n  padding: 20px;\r\n  .dataList {\r\n    border: 1px solid #ebeef5;\r\n    background-color: #fff;\r\n    color: #303133;\r\n    padding: 20px;\r\n    button {\r\n      float: right;\r\n    }\r\n  }\r\n  .el-table {\r\n    margin-top: 20px;\r\n    .el-table__header {\r\n      width: 100% !important;\r\n    }\r\n    .el-table__body {\r\n      width: 100% !important;\r\n    }\r\n  }\r\n  .el-pagination {\r\n    margin-top: 20px;\r\n    float: right;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=38494f87&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=scss&\"","import Service from '@/util/request.js';\r\n\r\n//添加商品分类\r\nexport function productCatCreate(params) {\r\n    return Service({\r\n        url: '/productCategory/create',\r\n        data: params\r\n    });\r\n}\r\n\r\n// 查询所有一级分类及子分类\r\nexport function getProductCat() {\r\n    return Service({\r\n        method: \"get\",\r\n        url: \"/productCategory/list/withChildren\"\r\n    });\r\n}\r\n\r\n\r\n// 根据ID分页查询商品分类\r\nexport function pCatListId(parentId) {\r\n    return Service({\r\n        method: 'get',\r\n        url: `/productCategory/list/${parentId}`\r\n    });\r\n}"],"sourceRoot":""}